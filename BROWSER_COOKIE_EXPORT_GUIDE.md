# æµè§ˆå™¨ Cookie å¯¼å‡ºæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å¸®åŠ©æ‚¨ä»å¸¸è§„æµè§ˆå™¨ä¸­å¯¼å‡ºå°é¹…é€šçš„ç™»å½• Cookieï¼Œç„¶åè½¬æ¢ä¸ºç³»ç»Ÿå¯ç”¨çš„å‡­è¯æ–‡ä»¶ã€‚

---

## ğŸŒ æ”¯æŒçš„æµè§ˆå™¨

- âœ… Google Chrome
- âœ… Microsoft Edge
- âœ… Firefox
- âœ… Brave
- âœ… Opera

---

## ğŸ“¥ æ–¹æ³•ä¸€ï¼šä½¿ç”¨æµè§ˆå™¨æ‰©å±•ï¼ˆæœ€ç®€å•ï¼‰â­

### Chrome/Edge ç”¨æˆ·

#### æ­¥éª¤1: å®‰è£… Cookie å¯¼å‡ºæ‰©å±•

æ¨èä½¿ç”¨ **"EditThisCookie"** æˆ– **"Cookie-Editor"**

**EditThisCookie å®‰è£…**ï¼š
1. æ‰“å¼€ Chrome ç½‘ä¸Šåº”ç”¨åº—ï¼šhttps://chrome.google.com/webstore
2. æœç´¢ "EditThisCookie"
3. ç‚¹å‡»"æ·»åŠ è‡³ Chrome"

**Cookie-Editor å®‰è£…**ï¼ˆæ›´ç°ä»£ï¼‰ï¼š
1. è®¿é—®ï¼šhttps://chrome.google.com/webstore
2. æœç´¢ "Cookie-Editor"
3. ç‚¹å‡»"æ·»åŠ è‡³ Chrome"

---

#### æ­¥éª¤2: ç™»å½•å°é¹…é€š

1. æ‰“å¼€æµè§ˆå™¨
2. è®¿é—®ï¼šhttps://appqpljfemv4802.h5.xiaoeknow.com/
3. ä½¿ç”¨å¾®ä¿¡æ‰«ç æˆ–éªŒè¯ç ç™»å½•
4. ç¡®è®¤ç™»å½•æˆåŠŸï¼ˆèƒ½çœ‹åˆ°è¯¾ç¨‹å†…å®¹ï¼‰

---

#### æ­¥éª¤3: å¯¼å‡º Cookies

**ä½¿ç”¨ EditThisCookie**ï¼š
1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ EditThisCookie å›¾æ ‡
2. ç‚¹å‡»"å¯¼å‡º"æŒ‰é’®ï¼ˆExportï¼‰
3. Cookies å·²å¤åˆ¶åˆ°å‰ªè´´æ¿

**ä½¿ç”¨ Cookie-Editor**ï¼š
1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ Cookie-Editor å›¾æ ‡
2. ç‚¹å‡»"å¯¼å‡º"æŒ‰é’®
3. é€‰æ‹©"JSON"æ ¼å¼
4. ç‚¹å‡»"å¤åˆ¶åˆ°å‰ªè´´æ¿"

---

#### æ­¥éª¤4: ä¿å­˜ä¸ºæ–‡ä»¶

1. æ‰“å¼€è®°äº‹æœ¬ï¼ˆWindowsï¼‰æˆ–æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆmacOSï¼‰
2. ç²˜è´´å¤åˆ¶çš„ Cookies
3. ä¿å­˜ä¸º `cookies_export.json`
4. ä¿å­˜ä½ç½®ï¼šæ¡Œé¢æˆ–é¡¹ç›®ç›®å½•

---

### Firefox ç”¨æˆ·

#### æ­¥éª¤1: å®‰è£…æ‰©å±•

1. è®¿é—® Firefox Add-onsï¼šhttps://addons.mozilla.org/
2. æœç´¢ "Cookie Quick Manager"
3. ç‚¹å‡»"æ·»åŠ åˆ° Firefox"

#### æ­¥éª¤2-4: åŒä¸Š

---

## ğŸ“¥ æ–¹æ³•äºŒï¼šä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·

### Chrome/Edge

#### æ­¥éª¤1: ç™»å½•å°é¹…é€š

1. è®¿é—®ï¼šhttps://appqpljfemv4802.h5.xiaoeknow.com/
2. å®Œæˆç™»å½•

#### æ­¥éª¤2: æ‰“å¼€å¼€å‘è€…å·¥å…·

æŒ‰ `F12` æˆ– `Ctrl+Shift+I`ï¼ˆWindowsï¼‰/ `Cmd+Option+I`ï¼ˆmacOSï¼‰

#### æ­¥éª¤3: å¯¼å‡º Cookies

1. ç‚¹å‡»é¡¶éƒ¨çš„ **"Application"** æ ‡ç­¾
2. å·¦ä¾§å±•å¼€ **"Storage"** â†’ **"Cookies"**
3. ç‚¹å‡» `https://appqpljfemv4802.h5.xiaoeknow.com`
4. åœ¨ Cookies åˆ—è¡¨ä¸­ï¼ŒæŒ‰ `Ctrl+A` å…¨é€‰
5. å³é”®ç‚¹å‡» â†’ **"Copy"** â†’ **"Copy all as JSON"**

å¦‚æœæ²¡æœ‰"Copy all as JSON"é€‰é¡¹ï¼š

**æ‰‹åŠ¨å¤åˆ¶æ–¹æ³•**ï¼š
1. åœ¨ Console æ ‡ç­¾ä¸­ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ï¼š

```javascript
// è·å–æ‰€æœ‰ Cookies å¹¶å¯¼å‡ºä¸º JSON
const cookies = document.cookie.split(';').map(c => {
    const [name, value] = c.trim().split('=');
    return {
        name: name,
        value: value,
        domain: window.location.hostname,
        path: '/',
        secure: window.location.protocol === 'https:',
        httpOnly: false,
        sameSite: 'Lax'
    };
});
console.log(JSON.stringify(cookies, null, 2));
copy(JSON.stringify(cookies, null, 2));
```

2. æŒ‰ `Enter` æ‰§è¡Œ
3. Cookies å·²å¤åˆ¶åˆ°å‰ªè´´æ¿

#### æ­¥éª¤4: ä¿å­˜ä¸ºæ–‡ä»¶

1. æ‰“å¼€è®°äº‹æœ¬
2. ç²˜è´´
3. ä¿å­˜ä¸º `cookies_export.json`

---

### Firefox

#### æ­¥éª¤1-2: åŒä¸Š

#### æ­¥éª¤3: å¯¼å‡º Cookies

1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡» **"Storage"** æ ‡ç­¾
3. å·¦ä¾§å±•å¼€ **"Cookies"**
4. ç‚¹å‡»å¯¹åº”çš„åŸŸå
5. å³é”®ç‚¹å‡»ä»»æ„ Cookie â†’ **"Select All"**
6. å³é”® â†’ **"Copy"**

æˆ–ä½¿ç”¨æ§åˆ¶å°æ–¹æ³•ï¼ˆåŒ Chromeï¼‰ã€‚

---

## ğŸ”„ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨è½¬æ¢å·¥å…·ï¼ˆæ¨èï¼‰

æˆ‘å·²ç»ä¸ºæ‚¨å‡†å¤‡äº†ä¸€ä¸ªè‡ªåŠ¨è½¬æ¢å·¥å…·ã€‚

### æ­¥éª¤1: å¯¼å‡º Cookies

ä½¿ç”¨ä¸Šè¿°ä»»æ„æ–¹æ³•å¯¼å‡º Cookiesï¼Œä¿å­˜ä¸º `cookies_export.json`

### æ­¥éª¤2: è¿è¡Œè½¬æ¢å·¥å…·

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd maoge-signal-reader

# è¿è¡Œè½¬æ¢å·¥å…·
python cookie_converter.py cookies_export.json
```

å·¥å…·ä¼šè‡ªåŠ¨ï¼š
- âœ… è¯»å–å¯¼å‡ºçš„ Cookies
- âœ… è½¬æ¢ä¸º Playwright æ ¼å¼
- âœ… ç”Ÿæˆ `xiaoe_auth.json`
- âœ… éªŒè¯æ ¼å¼æ­£ç¡®æ€§

### æ­¥éª¤3: ä¸Šä¼ åˆ°æœåŠ¡å™¨

```bash
scp xiaoe_auth.json root@47.100.32.41:/root/maoge_advisor/xiaoe_data/
```

---

## ğŸ“‹ Cookie æ ¼å¼è¯´æ˜

### EditThisCookie æ ¼å¼

```json
[
  {
    "domain": ".xiaoeknow.com",
    "expirationDate": 1740000000,
    "hostOnly": false,
    "httpOnly": false,
    "name": "session_id",
    "path": "/",
    "sameSite": "no_restriction",
    "secure": true,
    "session": false,
    "storeId": "0",
    "value": "abc123...",
    "id": 1
  }
]
```

### Cookie-Editor æ ¼å¼

```json
[
  {
    "domain": ".xiaoeknow.com",
    "expirationDate": 1740000000,
    "hostOnly": false,
    "httpOnly": false,
    "name": "session_id",
    "path": "/",
    "sameSite": "lax",
    "secure": true,
    "session": false,
    "storeId": "0",
    "value": "abc123..."
  }
]
```

### Playwright æ ¼å¼ï¼ˆç›®æ ‡æ ¼å¼ï¼‰

```json
{
  "cookies": [
    {
      "name": "session_id",
      "value": "abc123...",
      "domain": ".xiaoeknow.com",
      "path": "/",
      "expires": 1740000000,
      "httpOnly": false,
      "secure": true,
      "sameSite": "Lax"
    }
  ],
  "origins": []
}
```

---

## âœ… éªŒè¯ Cookies æœ‰æ•ˆæ€§

### æ–¹æ³•1: ä½¿ç”¨åœ¨çº¿å·¥å…·

1. è®¿é—®ï¼šhttps://reqbin.com/
2. è¾“å…¥å°é¹…é€š URL
3. æ·»åŠ  Cookie å¤´
4. å‘é€è¯·æ±‚ï¼Œæ£€æŸ¥æ˜¯å¦è¿”å›ç™»å½•çŠ¶æ€

### æ–¹æ³•2: ä½¿ç”¨è½¬æ¢å·¥å…·éªŒè¯

```bash
python cookie_converter.py cookies_export.json --verify
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: å¯¼å‡ºçš„ Cookies ä¸ºç©º

**åŸå› **: æœªç™»å½•æˆ– Cookies å·²è¿‡æœŸ

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿å·²æˆåŠŸç™»å½•å°é¹…é€š
2. åˆ·æ–°é¡µé¢
3. é‡æ–°å¯¼å‡º

---

### é—®é¢˜2: å¯¼å‡ºçš„æ ¼å¼ä¸æ­£ç¡®

**åŸå› **: æµè§ˆå™¨æ‰©å±•ç‰ˆæœ¬é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨å¼€å‘è€…å·¥å…·æ‰‹åŠ¨å¯¼å‡º
2. æˆ–ä½¿ç”¨è½¬æ¢å·¥å…·è‡ªåŠ¨ä¿®å¤æ ¼å¼

---

### é—®é¢˜3: ä¸Šä¼ åæœåŠ¡å™¨æ— æ³•ä½¿ç”¨

**åŸå› **: Cookie æ ¼å¼ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨ `cookie_converter.py` è½¬æ¢
2. ç¡®ä¿ç”Ÿæˆçš„æ˜¯ Playwright æ ¼å¼

---

## ğŸ“š æ¨èå·¥ä½œæµç¨‹

### å®Œæ•´æµç¨‹ï¼ˆæ¨èï¼‰â­

```
1. å®‰è£…æµè§ˆå™¨æ‰©å±•ï¼ˆCookie-Editorï¼‰
   â†“
2. åœ¨å¸¸è§„æµè§ˆå™¨ä¸­ç™»å½•å°é¹…é€š
   â†“
3. ä½¿ç”¨æ‰©å±•å¯¼å‡º Cookiesï¼ˆJSONæ ¼å¼ï¼‰
   â†“
4. ä¿å­˜ä¸º cookies_export.json
   â†“
5. è¿è¡Œè½¬æ¢å·¥å…·: python cookie_converter.py cookies_export.json
   â†“
6. ç”Ÿæˆ xiaoe_auth.json
   â†“
7. ä¸Šä¼ åˆ°æœåŠ¡å™¨: scp xiaoe_auth.json root@47.100.32.41:/root/maoge_advisor/xiaoe_data/
   â†“
8. æ¿€æ´»å‡­è¯: ssh root@47.100.32.41 'systemctl restart xiaoe_monitor.service'
   â†“
9. éªŒè¯æˆåŠŸ: tail -f /root/maoge_advisor/logs/xiaoe_monitor.log
```

---

## ğŸ” å®‰å…¨æç¤º

- âš ï¸ **Cookie åŒ…å«æ•æ„Ÿä¿¡æ¯**ï¼Œä¸è¦åˆ†äº«ç»™ä»–äºº
- âš ï¸ **ä¸è¦ä¸Šä¼ åˆ°å…¬å…±ä½ç½®**ï¼ˆå¦‚ GitHubï¼‰
- âš ï¸ **å®šæœŸæ›´æ–° Cookie**ï¼ˆå»ºè®®æ¯æœˆä¸€æ¬¡ï¼‰
- âš ï¸ **ä½¿ç”¨ååˆ é™¤æœ¬åœ°çš„ cookies_export.json**

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ [å¸¸è§é—®é¢˜](#æ•…éšœæ’æŸ¥)
2. æŸ¥çœ‹è½¬æ¢å·¥å…·çš„é”™è¯¯æç¤º
3. æäº¤ GitHub Issue

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### Chrome/Edge å¿«é€Ÿå‘½ä»¤

```javascript
// åœ¨ Console ä¸­æ‰§è¡Œï¼Œä¸€é”®å¯¼å‡º Cookies
copy(JSON.stringify(document.cookie.split(';').map(c => {
    const [name, value] = c.trim().split('=');
    return {name, value, domain: location.hostname, path: '/', secure: location.protocol === 'https:', httpOnly: false, sameSite: 'Lax'};
}), null, 2));
```

### å®Œæ•´å‘½ä»¤è¡Œæµç¨‹

```bash
# 1. è½¬æ¢ Cookies
python cookie_converter.py cookies_export.json

# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp xiaoe_auth.json root@47.100.32.41:/root/maoge_advisor/xiaoe_data/

# 3. æ¿€æ´»å‡­è¯
ssh root@47.100.32.41 'chmod 600 /root/maoge_advisor/xiaoe_data/xiaoe_auth.json && systemctl restart xiaoe_monitor.service'

# 4. éªŒè¯
ssh root@47.100.32.41 'tail -20 /root/maoge_advisor/logs/xiaoe_monitor.log'
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2026-02-20  
**ç»´æŠ¤è€…**: Tommy
